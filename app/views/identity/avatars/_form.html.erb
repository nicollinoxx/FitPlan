<%= form_with(url: identity_avatar_path, method: :patch, data: { controller: "bridge--form", action: "turbo:submit-start->bridge--form#submitStart turbo:submit-end->bridge--form#submitEnd" }) do |form| %>
  <div class="mb-3">
    <%= form.label :avatar, class: 'form-label' %>
    <%= form.file_field :avatar, accept: 'image/png, image/jpeg, image/jpg', class: 'form-control border border-success', data: { "upload-preview-target": "fileInput", "action": "upload-preview#preview" } %>
    <%= content_tag :small, t('.supported_files'), class: "text-muted" %>
  </div>

  <div class='d-flex gap-4'>
    <%= form.submit t('submit'), data: { "bridge--form-target": "submit", "bridge-title": "Save" }, class: 'btn btn-success' %>

    <button type="button" class="btn btn-danger hide-on-mobile" data-upload-preview-target="removeButton" data-action="upload-preview#removePreview" hidden><%= t('.remove_preview') %></button>
  </div>
<% end %>
